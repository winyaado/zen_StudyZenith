# 学習管理ページ (StudyZenith)

[StudyZenith デモページ](https://winyaado.github.io/zen_StudyZenith/StudyZenith.html)
## 概要

このプロジェクトは、ZEN大学の学生が履修状況を管理し、卒業要件を効率的に確認するためのウェブアプリケーションです。
シラバス情報を動的に取得し、選択した講義をローカルに保存、卒業要件に対する達成度を可視化します。
履修データおよび卒業要件設定のインポート・エクスポート機能も備えています。

**注意:** このアプリケーションはデモンストレーションおよび学習目的で作成されたものです。表示される情報（特に卒業要件の判定結果）の正確性は保証されません。必ず大学が提供する正式な学生便覧や履修システムで最終確認を行ってください。

## 主な機能

* **講義データの動的取得:**
    * 指定されたAPIエンドポイント (`https://api.syllabus.zen.ac.jp/search`) から全講義情報をページネーションを考慮して取得し、表示します。
    * 取得時には重複する講義データを科目コードに基づいて排除します。
* **講義検索・選択:**
    * 講義名、科目コード、説明文で講義を検索できます。
    * 選択した講義を「履修中講義」としてリスト管理できます。
* **履修状況の永続化:**
    * 選択した講義の科目コードをブラウザのローカルストレージに保存し、ページを再読み込みしても状態が保持されます。
* **卒業要件チェック:**
    * 適用されている卒業要件設定に基づいて、履修中の講義から達成状況を自動計算し表示します。
    * 各要件の達成度をプログレスバーで視覚的に確認できます。
* **履修データ管理:**
    * **エクスポート:** 履修中の講義の科目コード一覧をテキストファイル (`履修科目コード.txt`) としてダウンロードできます。
    * **インポート:** エクスポートした科目コードのテキストを貼り付けることで、履修状況を復元できます。
* **卒業要件管理:**
    * **エクスポート:** 現在適用されている卒業要件の設定をJSONファイル (`graduation_requirements.json`) としてダウンロードできます。
    * **インポート:** JSON形式の卒業要件ファイルをアップロードして、アプリケーションに適用できます。これにより、異なる学部や年度の卒業要件に柔軟に対応可能です。
    * **表示:** 現在適用中の卒業要件設定をJSON形式で確認できます。
    * **リセット:** 卒業要件をアプリケーションに組み込まれているデフォルト設定に戻すことができます。
* **UI/UX:**
    * タブ切り替えによる情報整理（講義選択、履修中講義、卒業要件チェック、データ管理、卒業要件管理）。
    * レスポンシブデザイン（Tailwind CSS使用）。
    * 操作結果のフィードバック（モーダル表示）。

## 技術スタック

* HTML
* CSS (Tailwind CSS)
* JavaScript (Vanilla JS)

## セットアップと使用方法

1.  このリポジトリをクローンまたはダウンロードします。
2.  `StudyZenith.html` (またはメインのHTMLファイル) をウェブブラウザで開きます。
3.  特別なビルドプロセスやサーバー設定は不要です。

**注意:** 講義データの取得はクライアントサイドのJavaScriptから直接APIを叩いています。APIサーバーのCORS (Cross-Origin Resource Sharing) ポリシーによっては、ローカルファイル (`file://` プロトコル) から直接開いた場合にAPIリクエストがブロックされる可能性があります。その場合は、ローカル開発サーバーを立てるか、CORSを許可するブラウザ拡張機能などを使用してください。GitHub Pagesなどでホスティングする場合は問題ありません。

## 卒業要件定義について

卒業要件の判定ロジックは、外部のJSONファイル（またはlocalStorageに保存された設定）によって定義されます。アプリケーション起動時には、まずlocalStorageから `graduationRequirementsConfig` というキーで保存された設定を読み込もうとします。存在しない場合は、JavaScript内に定義された `DEFAULT_GRADUATION_REQUIREMENTS` オブジェクトが初期設定として使用されます。

**卒業要件設定ファイル (JSON) の主な構造:**

* `version`: 設定ファイルのバージョン。
* `description`: 設定ファイルの説明。
* `exclusionPrefixes`: 卒業要件計算から除外する科目コードの接頭辞の配列 (例: `["OPT"]`)。
* `totalCreditsRequired`: 卒業に必要な総単位数。
* `categories`: 卒業要件のカテゴリの配列。各カテゴリは以下の情報を持つことができます。
    * `id`: カテゴリの一意な識別子。
    * `name`: カテゴリの表示名。
    * `creditsRequired`: そのカテゴリで必要な単位数。
    * `identification`: 科目がこのカテゴリに属するかを判定するためのルールオブジェクト。
        * `startsWith`: 科目コードの接頭辞の配列。
        * `courseCodes`: 科目コードの完全一致リスト。
        * `nameIncludes`: 科目名に含まれるべきキーワードの配列。
        * `subjectCategoryIdsFromRaw`: シラバスAPIの `subjectCategoryIds` と照合するIDの配列。
    * `allSubCategoriesMustBeMet`: (基礎科目のように) サブカテゴリ全てを満たす必要があるか (boolean)。
    * `subCategories`: サブカテゴリの配列 (上記カテゴリと同様の構造)。
    * `isGeneralDevelopmentCategory`: (展開科目のような) 包括的な科目群かを示すフラグ (boolean)。
    * `notes`: カテゴリに関する注釈。
    * `subChecks`: (展開科目内の特定分野のように) カテゴリ内でさらにチェックする項目の配列。
        * `id`, `name`, `creditsRequired`, `creditsMax` (上限単位数), `identification`, `includeBasicCategoryIds` (他の基礎カテゴリの単位を合算する場合のID配列), `description`。
        * `subSubChecks`: さらに下位のチェック項目。

**判定ロジック:**

JavaScript内の `checkGraduationRequirements` 関数が、現在適用されている `graduationRequirementsConfig` オブジェクトを参照し、履修中の科目が各要件定義に合致するかを判定し、単位数を集計します。
科目がどのカテゴリやサブカテゴリに属するかは、`courseMatchesIdentification` 関数が `identification` ルールに基づいて判定します。

この仕組みにより、卒業要件が変更された場合でも、JSONファイルを編集・インポートするだけで、アプリケーションのロジックを直接変更することなく対応できます。
